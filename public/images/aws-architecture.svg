<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #232F3E; }
      .subtitle { font: bold 16px sans-serif; fill: #232F3E; }
      .label { font: 12px sans-serif; fill: #232F3E; }
      .small-label { font: 10px sans-serif; fill: #545B64; }
      .aws-orange { fill: #FF9900; }
      .aws-blue { fill: #527FFF; }
      .aws-purple { fill: #8C4FFF; }
      .aws-green { fill: #759C3E; }
      .aws-red { fill: #DD344C; }
      .aws-compute { fill: #ED7100; }
      .aws-database { fill: #3B48CC; }
      .border { stroke: #232F3E; stroke-width: 2; fill: none; }
      .border-light { stroke: #AAB7B8; stroke-width: 1; fill: none; stroke-dasharray: 5,5; }
      .connection { stroke: #545B64; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .connection-data { stroke: #3B48CC; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .connection-dashed { stroke: #AAB7B8; stroke-width: 1; fill: none; stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#545B64" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">AWS Infrastructure Architecture</text>
  <text x="700" y="55" text-anchor="middle" class="small-label">Portfolio Application - ECS Fargate Deployment</text>

  <!-- Internet & Users -->
  <rect x="50" y="90" width="180" height="80" rx="5" fill="#E3F2FD" class="border"/>
  <text x="140" y="115" text-anchor="middle" class="subtitle">Internet</text>
  <circle cx="90" cy="145" r="15" fill="#546E7A"/>
  <text x="90" y="150" text-anchor="middle" fill="white" class="small-label">ðŸ‘¤</text>
  <text x="115" y="150" class="label">Users</text>
  <circle cx="170" cy="145" r="15" fill="#000"/>
  <text x="170" y="150" text-anchor="middle" fill="white" class="small-label">âš™</text>
  <text x="195" y="150" class="label">CI/CD</text>

  <!-- Route 53 & ACM -->
  <rect x="280" y="90" width="140" height="120" rx="5" fill="#FFF9C4" class="border"/>
  <text x="350" y="115" text-anchor="middle" class="subtitle">DNS &amp; SSL</text>
  <rect x="295" y="130" width="110" height="30" rx="3" class="aws-purple" opacity="0.8"/>
  <text x="350" y="150" text-anchor="middle" fill="white" class="label">Route 53</text>
  <rect x="295" y="170" width="110" height="30" rx="3" class="aws-red" opacity="0.8"/>
  <text x="350" y="190" text-anchor="middle" fill="white" class="label">ACM (SSL/TLS)</text>

  <!-- VPC Container -->
  <rect x="50" y="240" width="1300" height="680" rx="10" fill="#F5F5F5" class="border"/>
  <text x="700" y="270" text-anchor="middle" class="subtitle">VPC - 10.0.0.0/16</text>

  <!-- Availability Zone 1 -->
  <rect x="80" y="290" width="600" height="300" rx="5" fill="#E8F5E9" class="border-light"/>
  <text x="380" y="315" text-anchor="middle" class="label">Availability Zone 1 (us-east-1a)</text>

  <!-- Public Subnet 1 -->
  <rect x="100" y="330" width="250" height="240" rx="5" fill="#C8E6C9" class="border-light"/>
  <text x="225" y="350" text-anchor="middle" class="small-label">Public Subnet 10.0.1.0/24</text>

  <!-- ALB in Public Subnet 1 -->
  <rect x="120" y="370" width="90" height="60" rx="3" class="aws-purple" opacity="0.9"/>
  <text x="165" y="395" text-anchor="middle" fill="white" class="label">ALB</text>
  <text x="165" y="410" text-anchor="middle" fill="white" class="small-label">Load</text>
  <text x="165" y="423" text-anchor="middle" fill="white" class="small-label">Balancer</text>

  <!-- NAT Gateway 1 -->
  <rect x="240" y="370" width="90" height="60" rx="3" class="aws-orange" opacity="0.9"/>
  <text x="285" y="395" text-anchor="middle" fill="white" class="label">NAT</text>
  <text x="285" y="410" text-anchor="middle" fill="white" class="small-label">Gateway</text>

  <!-- IGW -->
  <rect x="160" y="470" width="110" height="50" rx="3" fill="#4CAF50" opacity="0.8"/>
  <text x="215" y="495" text-anchor="middle" fill="white" class="label">Internet</text>
  <text x="215" y="510" text-anchor="middle" fill="white" class="small-label">Gateway</text>

  <!-- Private Subnet 1 -->
  <rect x="380" y="330" width="280" height="240" rx="5" fill="#FFECB3" class="border-light"/>
  <text x="520" y="350" text-anchor="middle" class="small-label">Private Subnet 10.0.10.0/24</text>

  <!-- Frontend Task 1 -->
  <rect x="400" y="370" width="110" height="80" rx="3" class="aws-compute" opacity="0.9"/>
  <text x="455" y="390" text-anchor="middle" fill="white" class="label">Frontend</text>
  <text x="455" y="405" text-anchor="middle" fill="white" class="small-label">Next.js</text>
  <text x="455" y="420" text-anchor="middle" fill="white" class="small-label">256 CPU</text>
  <text x="455" y="435" text-anchor="middle" fill="white" class="small-label">512 MB</text>
  <text x="455" y="447" text-anchor="middle" fill="white" class="small-label">:3000</text>

  <!-- Backend Task 1 -->
  <rect x="530" y="370" width="110" height="80" rx="3" class="aws-compute" opacity="0.9"/>
  <text x="585" y="390" text-anchor="middle" fill="white" class="label">Backend</text>
  <text x="585" y="405" text-anchor="middle" fill="white" class="small-label">FastAPI</text>
  <text x="585" y="420" text-anchor="middle" fill="white" class="small-label">256 CPU</text>
  <text x="585" y="435" text-anchor="middle" fill="white" class="small-label">512 MB</text>
  <text x="585" y="447" text-anchor="middle" fill="white" class="small-label">:8000</text>

  <!-- Availability Zone 2 -->
  <rect x="720" y="290" width="600" height="300" rx="5" fill="#E8F5E9" class="border-light"/>
  <text x="1020" y="315" text-anchor="middle" class="label">Availability Zone 2 (us-east-1b)</text>

  <!-- Public Subnet 2 -->
  <rect x="740" y="330" width="250" height="240" rx="5" fill="#C8E6C9" class="border-light"/>
  <text x="865" y="350" text-anchor="middle" class="small-label">Public Subnet 10.0.2.0/24</text>

  <!-- ALB in Public Subnet 2 -->
  <rect x="760" y="370" width="90" height="60" rx="3" class="aws-purple" opacity="0.9"/>
  <text x="805" y="395" text-anchor="middle" fill="white" class="label">ALB</text>
  <text x="805" y="410" text-anchor="middle" fill="white" class="small-label">Load</text>
  <text x="805" y="423" text-anchor="middle" fill="white" class="small-label">Balancer</text>

  <!-- NAT Gateway 2 -->
  <rect x="880" y="370" width="90" height="60" rx="3" class="aws-orange" opacity="0.9"/>
  <text x="925" y="395" text-anchor="middle" fill="white" class="label">NAT</text>
  <text x="925" y="410" text-anchor="middle" fill="white" class="small-label">Gateway</text>

  <!-- Private Subnet 2 -->
  <rect x="1020" y="330" width="280" height="240" rx="5" fill="#FFECB3" class="border-light"/>
  <text x="1160" y="350" text-anchor="middle" class="small-label">Private Subnet 10.0.11.0/24</text>

  <!-- Frontend Task 2 -->
  <rect x="1040" y="370" width="110" height="80" rx="3" class="aws-compute" opacity="0.9"/>
  <text x="1095" y="390" text-anchor="middle" fill="white" class="label">Frontend</text>
  <text x="1095" y="405" text-anchor="middle" fill="white" class="small-label">Next.js</text>
  <text x="1095" y="420" text-anchor="middle" fill="white" class="small-label">256 CPU</text>
  <text x="1095" y="435" text-anchor="middle" fill="white" class="small-label">512 MB</text>
  <text x="1095" y="447" text-anchor="middle" fill="white" class="small-label">:3000</text>

  <!-- Backend Task 2 -->
  <rect x="1170" y="370" width="110" height="80" rx="3" class="aws-compute" opacity="0.9"/>
  <text x="1225" y="390" text-anchor="middle" fill="white" class="label">Backend</text>
  <text x="1225" y="405" text-anchor="middle" fill="white" class="small-label">FastAPI</text>
  <text x="1225" y="420" text-anchor="middle" fill="white" class="small-label">256 CPU</text>
  <text x="1225" y="435" text-anchor="middle" fill="white" class="small-label">512 MB</text>
  <text x="1225" y="447" text-anchor="middle" fill="white" class="small-label">:8000</text>

  <!-- Data Layer -->
  <rect x="420" y="640" width="560" height="120" rx="5" fill="#E1F5FE" class="border-light"/>
  <text x="700" y="665" text-anchor="middle" class="label">Data Layer</text>

  <!-- RDS PostgreSQL -->
  <ellipse cx="580" cy="710" rx="120" ry="40" class="aws-database" opacity="0.9"/>
  <text x="580" y="705" text-anchor="middle" fill="white" class="label">RDS PostgreSQL</text>
  <text x="580" y="720" text-anchor="middle" fill="white" class="small-label">db.t4g.micro | 20GB</text>

  <!-- ElastiCache Redis -->
  <ellipse cx="820" cy="710" rx="120" ry="40" class="aws-database" opacity="0.9"/>
  <text x="820" y="705" text-anchor="middle" fill="white" class="label">ElastiCache Redis</text>
  <text x="820" y="720" text-anchor="middle" fill="white" class="small-label">cache.t4g.micro | 1 Node</text>

  <!-- Security Groups -->
  <rect x="80" y="790" width="280" height="110" rx="5" fill="#FFEBEE" class="border-light"/>
  <text x="220" y="815" text-anchor="middle" class="label">Security Groups</text>

  <rect x="100" y="830" width="240" height="20" rx="2" class="aws-red" opacity="0.7"/>
  <text x="220" y="845" text-anchor="middle" fill="white" class="small-label">ALB SG: Allow 80, 443 from Internet</text>

  <rect x="100" y="855" width="240" height="20" rx="2" class="aws-red" opacity="0.7"/>
  <text x="220" y="870" text-anchor="middle" fill="white" class="small-label">ECS SG: Allow 3000, 8000 from ALB</text>

  <!-- ECS Control Plane -->
  <rect x="400" y="790" width="280" height="110" rx="5" fill="#FFF3E0" class="border-light"/>
  <text x="540" y="815" text-anchor="middle" class="label">Amazon ECS</text>

  <rect x="420" y="830" width="240" height="25" rx="2" class="aws-compute" opacity="0.8"/>
  <text x="540" y="847" text-anchor="middle" fill="white" class="small-label">Cluster (Fargate) | Container Insights</text>

  <rect x="420" y="860" width="110" height="20" rx="2" class="aws-orange" opacity="0.6"/>
  <text x="475" y="873" text-anchor="middle" class="small-label">Frontend Service</text>

  <rect x="550" y="860" width="110" height="20" rx="2" class="aws-orange" opacity="0.6"/>
  <text x="605" y="873" text-anchor="middle" class="small-label">Backend Service</text>

  <!-- Container Registry (ECR) -->
  <rect x="720" y="790" width="280" height="110" rx="5" fill="#E8EAF6" class="border-light"/>
  <text x="860" y="815" text-anchor="middle" class="label">Amazon ECR</text>

  <rect x="740" y="830" width="240" height="25" rx="2" class="aws-blue" opacity="0.8"/>
  <text x="860" y="847" text-anchor="middle" fill="white" class="small-label">Image Scanning | Lifecycle Policies</text>

  <rect x="740" y="860" width="110" height="20" rx="2" class="aws-orange" opacity="0.6"/>
  <text x="795" y="873" text-anchor="middle" class="small-label">Frontend Repo</text>

  <rect x="870" y="860" width="110" height="20" rx="2" class="aws-orange" opacity="0.6"/>
  <text x="925" y="873" text-anchor="middle" class="small-label">Backend Repo</text>

  <!-- CloudWatch -->
  <rect x="1040" y="790" width="280" height="110" rx="5" fill="#F1F8E9" class="border-light"/>
  <text x="1180" y="815" text-anchor="middle" class="label">CloudWatch</text>

  <rect x="1060" y="835" width="80" height="20" rx="2" class="aws-green" opacity="0.7"/>
  <text x="1100" y="848" text-anchor="middle" class="small-label">Logs</text>

  <rect x="1150" y="835" width="80" height="20" rx="2" class="aws-green" opacity="0.7"/>
  <text x="1190" y="848" text-anchor="middle" class="small-label">Metrics</text>

  <rect x="1105" y="865" width="110" height="20" rx="2" class="aws-green" opacity="0.7"/>
  <text x="1160" y="878" text-anchor="middle" class="small-label">Container Insights</text>

  <!-- Connections -->
  <!-- User to Route53 -->
  <path d="M 230 130 L 280 130" class="connection"/>
  <text x="255" y="125" text-anchor="middle" class="small-label" fill="#232F3E">HTTPS</text>

  <!-- Route53 to ALB -->
  <path d="M 350 210 L 165 370" class="connection"/>
  <path d="M 350 210 L 805 370" class="connection"/>

  <!-- ALB to Tasks -->
  <path d="M 210 400 L 400 400" class="connection"/>
  <path d="M 210 410 L 530 410" class="connection"/>
  <path d="M 850 400 L 1040 400" class="connection"/>
  <path d="M 850 410 L 1170 410" class="connection"/>

  <!-- Tasks to Data -->
  <path d="M 585 450 L 580 670" class="connection-data"/>
  <path d="M 1225 450 L 580 670" class="connection-data"/>
  <path d="M 585 450 L 820 670" class="connection-data"/>
  <path d="M 1225 450 L 820 670" class="connection-data"/>

  <!-- NAT Gateways to IGW -->
  <path d="M 285 430 L 215 470" class="connection-dashed"/>
  <path d="M 165 430 L 180 470" class="connection-dashed"/>

  <!-- ECS Control to Tasks (dashed) -->
  <path d="M 475 830 L 455 450" class="connection-dashed"/>
  <path d="M 605 830 L 585 450" class="connection-dashed"/>

  <!-- ECR to Tasks (dashed) -->
  <path d="M 795 860 L 455 450" class="connection-dashed"/>
  <path d="M 925 860 L 585 450" class="connection-dashed"/>

  <!-- Tasks to CloudWatch (dashed) -->
  <path d="M 640 410 L 1060 835" class="connection-dashed"/>

  <!-- Legend -->
  <rect x="50" y="945" width="200" height="40" rx="3" fill="white" class="border"/>
  <line x1="70" y1="960" x2="95" y2="960" class="connection"/>
  <text x="105" y="965" class="small-label">Data Flow</text>
  <line x1="70" y1="975" x2="95" y2="975" class="connection-dashed"/>
  <text x="105" y="980" class="small-label">Control/Monitoring</text>

</svg>
